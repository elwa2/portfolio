<!doctype html>
<html lang="ar" dir="rtl" data-theme="light">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-1B3TL3YJ0J"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-1B3TL3YJ0J");
    </script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù…ÙˆÙ„Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ | Ali Ahmed</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="../assets/css/fonts.css" />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link rel="stylesheet" href="../assets/css/design-enhancements.css" />
    <link rel="stylesheet" href="../assets/css/animations.css" />
    <link
      rel="icon"
      href="../assets/images/logo ico.svg"
      type="image/svg+xml"
    />

    <style>
      :root {
        --tool-primary: #5d3dcd;
        --tool-primary-rgb: 93, 61, 205;
        --tool-bg: #f4f6fc;
        --tool-card-bg: #ffffff;
        --tool-text: #212529;
        --tool-border: #e0e5ec;
      }

      [data-theme="dark"] {
        --tool-bg: transparent;
        --tool-card-bg: rgba(30, 30, 30, 0.66);
        --tool-text: #ffffff;
        --tool-border: rgba(255, 255, 255, 0.2);
      }

      html,
      body {
        min-height: 100vh;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background-color: var(--tool-bg);
        z-index: -3;
      }

      .grain-overlay,
      #three-canvas-container,
      .floating-background {
        position: fixed;
        inset: 0;
      }

      .floating-background {
        z-index: -2;
        pointer-events: none;
      }

      .grain-overlay {
        z-index: 9999;
        pointer-events: none;
      }

      .tool-page-wrapper {
        position: relative;
        z-index: 10;
        padding: 130px 0;
      }

      .tool-shell {
        max-width: 1220px;
        margin: 0 auto;
        border: 1px solid var(--tool-border);
        border-radius: 24px;
        overflow: hidden;
        background: var(--tool-card-bg);
        backdrop-filter: blur(16px);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
      }

      .tool-header {
        padding: 30px;
        text-align: center;
        border-bottom: 1px solid var(--tool-border);
        background: rgba(var(--tool-primary-rgb), 0.06);
      }

      .tool-header h1 {
        margin: 0;
        color: var(--tool-primary);
        font-size: clamp(1.8rem, 3vw, 2.4rem);
      }

      .tool-header p {
        margin: 10px auto 0;
        max-width: 820px;
        color: var(--text-color-light);
      }

      .tool-content {
        padding: 26px;
      }

      .top-grid {
        display: grid;
        grid-template-columns: 340px 1fr;
        gap: 14px;
      }

      .panel {
        border: 1px solid var(--tool-border);
        border-radius: 14px;
        background: rgba(var(--tool-primary-rgb), 0.02);
        padding: 14px;
      }

      .picker-panel {
        background: #2f3138;
        color: #fff;
      }

      .picker-panel .panel-title {
        color: #f2f2f2;
      }

      .panel-title {
        margin: 0 0 10px;
        font-size: 1rem;
        color: var(--tool-text);
      }

      #iroPicker {
        margin: 0 auto;
        max-width: 290px;
      }
      .wheel-wrap {
        position: relative;
        width: 260px;
        margin: 0 auto;
      }
      #harmonyGuide {
        position: absolute;
        top: 0;
        left: 0;
        width: 260px;
        height: 260px;
        pointer-events: none;
        z-index: 3;
      }
      .guide-fill {
        fill: rgba(255, 255, 255, 0.36);
      }
      .guide-line {
        stroke: rgba(255, 255, 255, 0.9);
        stroke-width: 1.2;
        fill: none;
      }
      .guide-node {
        fill: transparent;
        stroke: #ffffff;
        stroke-width: 2.5;
      }
      .guide-center {
        fill: rgba(255, 255, 255, 0.15);
        stroke: rgba(255, 255, 255, 0.8);
        stroke-width: 1.4;
      }

      .mini-info {
        margin-top: 12px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
      }

      .mini-box {
        border-radius: 10px;
        padding: 8px;
        background: rgba(255, 255, 255, 0.08);
        font-size: 0.9rem;
      }

      .mini-box strong {
        display: block;
        margin-bottom: 4px;
      }

      .controls-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
      }

      .control {
        border: 1px solid var(--tool-border);
        border-radius: 12px;
        padding: 10px;
        background: var(--tool-card-bg);
      }

      .control label {
        display: block;
        margin-bottom: 8px;
        font-weight: 700;
        color: var(--tool-text);
      }

      .control input,
      .control textarea {
        width: 100%;
        border: 1px solid var(--tool-border);
        border-radius: 10px;
        padding: 10px;
        font-family: "Cairo", sans-serif;
        background: var(--tool-card-bg);
        color: var(--tool-text);
      }

      .control input[type="range"] {
        padding: 0;
      }

      .actions-row {
        margin-top: 10px;
        display: flex;
        gap: 10px;
      }

      .btn-tool {
        border: none;
        border-radius: 12px;
        padding: 11px 16px;
        font-family: "Cairo", sans-serif;
        font-weight: 700;
        cursor: pointer;
        color: #fff;
        transition: 0.2s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
      }

      .btn-tool:hover {
        transform: translateY(-2px);
      }

      .btn-primary {
        background: var(--tool-primary);
      }

      .btn-secondary {
        background: #6c757d;
      }

      .btn-accent {
        background: #00b8d4;
      }

      .harmony-grid {
        margin-top: 14px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }

      .harmony-item {
        border: 1px solid var(--tool-border);
        border-radius: 12px;
        padding: 10px;
        background: rgba(var(--tool-primary-rgb), 0.02);
      }

      .harmony-item h4 {
        margin: 0 0 8px;
        font-size: 0.92rem;
        color: var(--tool-text);
      }

      .swatches {
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
      }

      .dot {
        width: 26px;
        height: 26px;
        border-radius: 8px;
        border: 1px solid rgba(0, 0, 0, 0.16);
        cursor: pointer;
      }

      .scale-grid {
        margin-top: 14px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }

      .scale-item {
        border: 1px solid var(--tool-border);
        border-radius: 12px;
        padding: 10px;
      }

      .scale-item h4 {
        margin: 0 0 8px;
        color: var(--tool-text);
        font-size: 0.92rem;
      }

      .line-swatches {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        gap: 6px;
      }

      .line-dot {
        height: 24px;
        border-radius: 7px;
        border: 1px solid rgba(0, 0, 0, 0.12);
        cursor: pointer;
      }

      .output-card {
        margin-top: 14px;
        border: 1px solid var(--tool-border);
        border-radius: 14px;
        overflow: hidden;
      }

      .output-title {
        margin: 0;
        padding: 12px 14px;
        border-bottom: 1px solid var(--tool-border);
        color: var(--tool-text);
        font-size: 1rem;
      }
      .code-tabs {
        display: flex;
        gap: 8px;
        padding: 10px 12px;
        border-bottom: 1px solid var(--tool-border);
        background: rgba(var(--tool-primary-rgb), 0.03);
      }
      .code-tab-btn {
        border: 1px solid var(--tool-border);
        background: var(--tool-card-bg);
        color: var(--tool-text);
        border-radius: 10px;
        padding: 8px 12px;
        font-family: "Cairo", sans-serif;
        font-weight: 700;
        cursor: pointer;
      }
      .code-tab-btn.active {
        background: var(--tool-primary);
        color: #fff;
        border-color: var(--tool-primary);
      }

      #cssOutput {
        width: 100%;
        min-height: 180px;
        border: 0;
        padding: 14px;
        font-size: 14px;
        line-height: 1.7;
        resize: vertical;
        font-family: "Roboto Mono", Consolas, monospace;
        cursor: copy;
      }

      .copy-toast {
        position: fixed;
        bottom: 24px;
        left: 50%;
        transform: translateX(-50%) translateY(12px);
        background: var(--tool-primary);
        color: #fff;
        padding: 10px 16px;
        border-radius: 10px;
        font-weight: 700;
        opacity: 0;
        pointer-events: none;
        transition: 0.2s ease;
        z-index: 10000;
      }

      .copy-toast.show {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }

      @media (max-width: 1080px) {
        .top-grid {
          grid-template-columns: 1fr;
        }
        .controls-grid {
          grid-template-columns: 1fr;
        }
        .harmony-grid,
        .scale-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="../assets/js/three-bg.js" defer></script>
    <script src="../assets/js/main.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@jaames/iro@5"></script>
  </head>
  <body class="theme-aware">
    <div class="grain-overlay"></div>
    <div id="three-canvas-container"></div>
    <div class="floating-background">
      <div class="floating-icon" style="left: 10%; animation-duration: 8s">ğŸ¨</div>
      <div class="floating-icon" style="left: 25%; animation-duration: 10s">ğŸŒˆ</div>
      <div class="floating-icon" style="left: 40%; animation-duration: 12s">ğŸŸ¦</div>
      <div class="floating-icon" style="left: 55%; animation-duration: 9s">#</div>
      <div class="floating-icon" style="left: 70%; animation-duration: 11s">HSL</div>
      <div class="floating-icon" style="left: 85%; animation-duration: 13s">CSS</div>
    </div>

    <header class="header">
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <a href="../index.html">
              <img src="../assets/images/logo.svg" alt="Ali Ahmed" />
            </a>
          </div>
          <nav class="nav">
            <ul class="nav-links">
              <li><a href="../index.html#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
              <li><a href="../index.html#about">Ù…Ù† Ù†Ø­Ù†</a></li>
              <li><a href="../index.html#services">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a></li>
              <li><a href="../works.html">Ø£Ø¹Ù…Ø§Ù„Ù†Ø§</a></li>
              <li><a href="../index.html#salla-discounts">Ø£ÙƒÙˆØ§Ø¯ Ø®ØµÙ… Ø³Ù„Ø©</a></li>
              <li><a href="index.html" class="active">Ø£Ø¯ÙˆØ§ØªÙ†Ø§</a></li>
              <li><a href="../index.html#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
              <li><a href="../index.html#payment">Ø§Ù„Ø¯ÙØ¹</a></li>
            </ul>
          </nav>
          <div class="header-actions">
            <div class="theme-toggle" onclick="toggleTheme()">
              <svg class="svg-icon" viewBox="0 0 512 512">
                <use href="../assets/images/icons.svg#icon-moon"></use>
              </svg>
            </div>
            <div class="mobile-toggle">
              <svg class="svg-icon" viewBox="0 0 448 512">
                <use href="../assets/images/icons.svg#icon-bars"></use>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="tool-page-wrapper">
      <div class="container">
        <div class="tool-shell">
          <div class="tool-header">
            <h1>Ù…ÙˆÙ„Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</h1>
            <p>
              Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù…Ù† Ø¹Ø¬Ù„Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† + Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„ØªÙ†Ø§ØºÙ… (Ø£Ø­Ø§Ø¯ÙŠØŒ Ø«Ù„Ø§Ø«ÙŠØŒ ØªÙƒÙ…ÙŠÙ„ÙŠ...) Ø«Ù… ØªÙˆÙ„ÙŠØ¯ Ù…ØªØºÙŠØ±Ø§Øª CSS Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© Ø¨Ù†ÙØ³ Ø§Ù„ØªÙ†Ø³ÙŠÙ‚.
            </p>
          </div>

          <div class="tool-content">
            <div class="top-grid">
              <div class="panel picker-panel">
                <h3 class="panel-title">Color Wheel</h3>
                <div class="wheel-wrap">
                  <div id="iroPicker"></div>
                  <svg id="harmonyGuide" viewBox="0 0 260 260" aria-hidden="true">
                    <polygon id="guideTriangle" class="guide-fill"></polygon>
                    <polyline id="guideOutline" class="guide-line"></polyline>
                    <circle id="guideNodeA" class="guide-node" r="6"></circle>
                    <circle id="guideNodeB" class="guide-node" r="5"></circle>
                    <circle id="guideNodeC" class="guide-node" r="5"></circle>
                    <circle id="guideCenter" class="guide-center" r="5"></circle>
                  </svg>
                </div>
                <div class="mini-info">
                  <div class="mini-box"><strong>HEX</strong><span id="hexRead">#050F2C</span></div>
                  <div class="mini-box"><strong>Opacity</strong><span id="opacityRead">100%</span></div>
                  <div class="mini-box"><strong>H</strong><span id="hRead">0</span></div>
                  <div class="mini-box"><strong>S</strong><span id="sRead">0</span></div>
                  <div class="mini-box"><strong>L</strong><span id="lRead">0</span></div>
                  <div class="mini-box"><strong>RGB</strong><span id="rgbRead">0, 0, 0</span></div>
                </div>
              </div>

              <div class="panel">
                <h3 class="panel-title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆÙ„ÙŠØ¯</h3>
                <div class="controls-grid">
                  <div class="control">
                    <label for="primaryHex">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (HEX)</label>
                    <input id="primaryHex" type="text" value="#050F2C" spellcheck="false" />
                  </div>
                  <div class="control">
                    <label for="lightAmount">Ø¯Ø±Ø¬Ø© Ø§Ù„ØªÙØªÙŠØ­</label>
                    <input id="lightAmount" type="range" min="5" max="70" value="16" />
                    <div id="lightAmountLabel">16%</div>
                  </div>
                  <div class="control">
                    <label for="darkAmount">Ø¯Ø±Ø¬Ø© Ø§Ù„ØªØ¹ØªÙŠÙ…</label>
                    <input id="darkAmount" type="range" min="5" max="70" value="18" />
                    <div id="darkAmountLabel">18%</div>
                  </div>
                  <div class="control">
                    <label for="opacityAmount">Opacity</label>
                    <input id="opacityAmount" type="range" min="10" max="100" value="100" />
                    <div id="opacityAmountLabel">100%</div>
                  </div>
                  <div class="control">
                    <label for="fontVar">Ø§Ø³Ù… Ù…ØªØºÙŠØ± Ø§Ù„Ø®Ø·</label>
                    <input id="fontVar" type="text" value="'PingARLT'" spellcheck="false" />
                  </div>
                </div>

                <div class="actions-row">
                  <button class="btn-tool btn-secondary" id="randomBtn" type="button"><i class="fas fa-dice"></i> Ø¹Ø´ÙˆØ§Ø¦ÙŠ</button>
                  <button class="btn-tool btn-secondary" id="resetBtn" type="button"><i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
                  <button class="btn-tool btn-accent" id="downloadBtn" type="button"><i class="fas fa-download"></i> ØªÙ†Ø²ÙŠÙ„ CSS</button>
                </div>

                <div class="scale-grid">
                  <div class="scale-item">
                    <h4>Tints</h4>
                    <div class="line-swatches" id="tintsSwatches"></div>
                  </div>
                  <div class="scale-item">
                    <h4>Shades</h4>
                    <div class="line-swatches" id="shadesSwatches"></div>
                  </div>
                  <div class="scale-item">
                    <h4>Tones</h4>
                    <div class="line-swatches" id="tonesSwatches"></div>
                  </div>
                  <div class="scale-item">
                    <h4>Monochromatic</h4>
                    <div class="line-swatches" id="monoSwatches"></div>
                  </div>
                </div>
              </div>
            </div>

            <div class="harmony-grid">
              <div class="harmony-item"><h4>Complementary</h4><div class="swatches" id="compSwatches"></div></div>
              <div class="harmony-item"><h4>Split Complementary</h4><div class="swatches" id="splitSwatches"></div></div>
              <div class="harmony-item"><h4>Analogous</h4><div class="swatches" id="analogSwatches"></div></div>
              <div class="harmony-item"><h4>Accented Analogic</h4><div class="swatches" id="accAnalogSwatches"></div></div>
              <div class="harmony-item"><h4>Triadic</h4><div class="swatches" id="triadSwatches"></div></div>
              <div class="harmony-item"><h4>Square</h4><div class="swatches" id="squareSwatches"></div></div>
              <div class="harmony-item"><h4>Tetradic</h4><div class="swatches" id="tetradSwatches"></div></div>
            </div>

            <div class="output-card">
              <h3 class="output-title">ÙƒÙˆØ¯ CSS Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ (Ø§Ø¶ØºØ· Ù„Ù†Ø³Ø®)</h3>
              <div class="code-tabs">
                <button class="code-tab-btn active" id="tabHex" type="button">ØµÙŠØºØ© HEX Vars</button>
                <button class="code-tab-btn" id="tabRgb" type="button">ØµÙŠØºØ© RGB Vars</button>
              </div>
              <textarea id="cssOutput" readonly></textarea>
            </div>

            <div class="actions-row" style="margin-top: 14px">
              <button class="btn-tool btn-primary" id="copyBtn" type="button"><i class="fas fa-copy"></i> Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer" id="footer_aboutus">
      <div class="container">
        <div class="footer-content">
          <div class="footer-about">
            <div class="footer-logo">
              <img src="../assets/images/logo.svg" alt="Ali Ahmed" />
            </div>
            <p class="about-text">
              Ù…ØµÙ…Ù… Ù…ØªØ®ØµØµ ÙÙŠ ØªØ·ÙˆÙŠØ± ÙˆØªØµÙ…ÙŠÙ… Ù…ØªØ§Ø¬Ø± Ù…Ù†ØµØ© Ø²Ø¯ ÙˆØ³Ù„Ø©ØŒ Ø£Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªØ®ØµÙŠØµ CSS Ù„Ø¬Ø¹Ù„ Ù…ØªØ¬Ø±Ùƒ ÙØ±ÙŠØ¯Ø§Ù‹ ÙˆÙ…Ù…ÙŠØ².
            </p>
            <div class="footer-certificate">
              <a href="https://www.behance.net/3lwaaa1" target="_blank">
                <img src="../assets/images/logo ico.svg" alt="Ali Ahmed" />
                <span>Ali Ahmed | Ù…ØµÙ…Ù… Ù…Ù†ØµØ© Ø²Ø¯ ÙˆØ³Ù„Ø©</span>
              </a>
            </div>
            <p class="footer-cr">Custom Css Salla zid</p>
          </div>

          <div class="footer-links">
            <h3>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
            <ul>
              <li><a href="../index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
              <li><a href="index.html">Ø£Ø¯ÙˆØ§ØªÙ†Ø§</a></li>
              <li><a href="../index.html#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
            </ul>
          </div>

          <div class="footer-contact">
            <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
            <ul>
              <li><svg class="svg-icon" viewBox="0 0 384 512"><use href="../assets/images/icons.svg#icon-map-marker-alt"></use></svg><span>Ù…ØµØ±</span></li>
              <li><svg class="svg-icon" viewBox="0 0 512 512"><use href="../assets/images/icons.svg#icon-phone"></use></svg><span>+20 100 224 1591</span></li>
              <li><svg class="svg-icon" viewBox="0 0 512 512"><use href="../assets/images/icons.svg#icon-envelope"></use></svg><span>salla1zid@gmail.com</span></li>
            </ul>
            <div class="footer-social">
              <a href="https://wa.me/201002241591" target="_blank"><svg class="svg-icon" viewBox="0 0 448 512"><use href="../assets/images/icons.svg#icon-whatsapp"></use></svg></a>
              <a href="https://www.instagram.com/salla1zid/" target="_blank"><svg class="svg-icon" viewBox="0 0 448 512"><use href="../assets/images/icons.svg#icon-instagram"></use></svg></a>
              <a href="https://twitter.com/salla1zid" target="_blank"><svg class="svg-icon" viewBox="0 0 512 512"><use href="../assets/images/icons.svg#icon-twitter"></use></svg></a>
              <a href="https://t.me/cssfree1" target="_blank"><svg class="svg-icon" viewBox="0 0 496 512"><use href="../assets/images/icons.svg#icon-telegram"></use></svg></a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; <span id="currentYear"></span> Ali Ahmed | Ù…ÙˆÙ„Ø¯ Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†</p>
        </div>
      </div>
    </footer>

    <a href="https://wa.me/201002241591" class="floating-whatsapp" target="_blank">
      <svg class="svg-icon" viewBox="0 0 448 512">
        <use href="../assets/images/icons.svg#icon-whatsapp"></use>
      </svg>
    </a>

    <div id="copyToast" class="copy-toast">ØªÙ… Ø§Ù„Ù†Ø³Ø®</div>

    <script>
      const $ = (id) => document.getElementById(id);
      let toastTimer = null;
      let colorPicker = null;
      let activeCodeTab = "hex";

      const defaults = {
        hex: "#050F2C",
        light: 16,
        dark: 18,
        opacity: 100,
        font: "'PingARLT'",
      };

      function showToast(message) {
        const toast = $("copyToast");
        toast.textContent = message;
        toast.classList.add("show");
        clearTimeout(toastTimer);
        toastTimer = setTimeout(() => toast.classList.remove("show"), 1300);
      }

      function clamp(n, min, max) {
        return Math.max(min, Math.min(max, n));
      }

      function normalizeHex(value) {
        let hex = String(value || "").trim().replace(/^#/, "");
        if (/^[0-9a-fA-F]{3}$/.test(hex)) hex = hex.split("").map((x) => x + x).join("");
        if (!/^[0-9a-fA-F]{6}$/.test(hex)) return null;
        return `#${hex.toUpperCase()}`;
      }

      function hexToRgb(hex) {
        const v = normalizeHex(hex);
        if (!v) return null;
        return {
          r: parseInt(v.slice(1, 3), 16),
          g: parseInt(v.slice(3, 5), 16),
          b: parseInt(v.slice(5, 7), 16),
        };
      }

      function rgbToHex(r, g, b) {
        return (
          "#" +
          [clamp(Math.round(r), 0, 255), clamp(Math.round(g), 0, 255), clamp(Math.round(b), 0, 255)]
            .map((v) => v.toString(16).padStart(2, "0"))
            .join("")
            .toUpperCase()
        );
      }

      function rgbToHsl(r, g, b) {
        r /= 255;
        g /= 255;
        b /= 255;
        const max = Math.max(r, g, b);
        const min = Math.min(r, g, b);
        const l = (max + min) / 2;
        let h = 0;
        let s = 0;

        if (max !== min) {
          const d = max - min;
          s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
          switch (max) {
            case r:
              h = (g - b) / d + (g < b ? 6 : 0);
              break;
            case g:
              h = (b - r) / d + 2;
              break;
            default:
              h = (r - g) / d + 4;
          }
          h /= 6;
        }

        return { h: h * 360, s: s * 100, l: l * 100 };
      }

      function hslToRgb(h, s, l) {
        h = ((h % 360) + 360) % 360;
        s = clamp(s, 0, 100) / 100;
        l = clamp(l, 0, 100) / 100;

        if (s === 0) {
          const v = Math.round(l * 255);
          return { r: v, g: v, b: v };
        }

        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        const p = 2 * l - q;
        const hk = h / 360;

        const hue2rgb = (t) => {
          if (t < 0) t += 1;
          if (t > 1) t -= 1;
          if (t < 1 / 6) return p + (q - p) * 6 * t;
          if (t < 1 / 2) return q;
          if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
          return p;
        };

        return {
          r: Math.round(hue2rgb(hk + 1 / 3) * 255),
          g: Math.round(hue2rgb(hk) * 255),
          b: Math.round(hue2rgb(hk - 1 / 3) * 255),
        };
      }

      function hslToHex(h, s, l) {
        const rgb = hslToRgb(h, s, l);
        return rgbToHex(rgb.r, rgb.g, rgb.b);
      }

      function shiftHue(h, delta) {
        return ((h + delta) % 360 + 360) % 360;
      }

      function mixWith(hex, targetHex, amount) {
        const c1 = hexToRgb(hex);
        const c2 = hexToRgb(targetHex);
        const t = clamp(amount, 0, 100) / 100;
        return rgbToHex(
          c1.r + (c2.r - c1.r) * t,
          c1.g + (c2.g - c1.g) * t,
          c1.b + (c2.b - c1.b) * t
        );
      }

      function pointOnCircle(cx, cy, r, angleDeg) {
        const rad = angleDeg * (Math.PI / 180);
        return {
          x: cx + r * Math.cos(rad),
          y: cy + r * Math.sin(rad),
        };
      }

      function updateWheelGuide(hue) {
        const cx = 130;
        const cy = 130;
        const outerRadius = 112;
        const innerBlend = 0.82;

        const a = pointOnCircle(cx, cy, outerRadius, hue);
        const b = pointOnCircle(cx, cy, outerRadius, shiftHue(hue, 120));
        const c = pointOnCircle(cx, cy, outerRadius, shiftHue(hue, 240));

        const ia = {
          x: cx + (a.x - cx) * innerBlend,
          y: cy + (a.y - cy) * innerBlend,
        };
        const ib = {
          x: cx + (b.x - cx) * innerBlend,
          y: cy + (b.y - cy) * innerBlend,
        };
        const ic = {
          x: cx + (c.x - cx) * innerBlend,
          y: cy + (c.y - cy) * innerBlend,
        };

        $("guideTriangle").setAttribute(
          "points",
          `${ia.x},${ia.y} ${ib.x},${ib.y} ${ic.x},${ic.y}`
        );
        $("guideOutline").setAttribute(
          "points",
          `${ia.x},${ia.y} ${ib.x},${ib.y} ${ic.x},${ic.y} ${ia.x},${ia.y}`
        );
        $("guideNodeA").setAttribute("cx", ia.x);
        $("guideNodeA").setAttribute("cy", ia.y);
        $("guideNodeB").setAttribute("cx", ib.x);
        $("guideNodeB").setAttribute("cy", ib.y);
        $("guideNodeC").setAttribute("cx", ic.x);
        $("guideNodeC").setAttribute("cy", ic.y);
        $("guideCenter").setAttribute("cx", cx);
        $("guideCenter").setAttribute("cy", cy);
      }

      function renderColorLine(containerId, colors) {
        const el = $(containerId);
        el.innerHTML = "";
        colors.forEach((c) => {
          const d = document.createElement("div");
          d.className = "line-dot";
          d.style.background = c;
          d.title = c;
          d.addEventListener("click", () => copyText(c));
          el.appendChild(d);
        });
      }

      function renderHarmony(containerId, colors) {
        const el = $(containerId);
        el.innerHTML = "";
        colors.forEach((c) => {
          const d = document.createElement("div");
          d.className = "dot";
          d.style.background = c;
          d.title = c;
          d.addEventListener("click", () => copyText(c));
          el.appendChild(d);
        });
      }

      function rgbComma(hex) {
        const c = hexToRgb(hex);
        return `${c.r}, ${c.g}, ${c.b}`;
      }

      function rgbSpace(hex) {
        const c = hexToRgb(hex);
        return `${c.r} ${c.g} ${c.b}`;
      }

      function buildHexVarsCss(primary, lightPct, darkPct, opacityPct, fontVar) {
        const dark = mixWith(primary, "#000000", darkPct);
        const light = mixWith(primary, "#FFFFFF", lightPct);
        const reverse = mixWith(primary, "#FFFFFF", 82);
        const rgb = hexToRgb(primary);
        const alpha = (opacityPct / 100).toFixed(2);

        return `:root {\n    --font-main: ${fontVar};\n    --color-primary: ${primary};\n    --color-primary-dark: ${dark};\n    --color-primary-light: ${light};\n    --color-primary-reverse: ${reverse};\n    --color-primary-rgb: ${rgb.r}, ${rgb.g}, ${rgb.b};\n    --color-primary-alpha: rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alpha});\n}`;
      }

      function buildRgbVarsCss(primary, lightPct, darkPct, opacityPct, fontVar) {
        const secondary = mixWith(primary, "#000000", Math.max(8, darkPct + 8));
        const secondaryDark = mixWith(primary, "#000000", Math.max(18, darkPct + 20));
        const light = mixWith(primary, "#FFFFFF", Math.max(65, lightPct + 40));
        const bg = mixWith(primary, "#FFFFFF", 94);
        const oneOne = mixWith(primary, "#000000", 86);

        return `:root {\n    --font-main: ${fontVar};\n    --main: ${rgbComma(primary)};\n    --secondary: ${rgbComma(secondary)};\n    --secondary-dark: ${rgbComma(secondaryDark)};\n    --light: ${rgbComma(light)};\n    --bg: ${bg};\n    --1-1: ${rgbSpace(oneOne)};\n}\n\nbackground: rgba(var(--1-1), 0.95);\nbackground: rgba(var(--light), 0.95);\nbackground: rgba(var(--main), ${(opacityPct / 100).toFixed(2)});`;
      }

      function getOutputCss(primary, lightPct, darkPct, opacityPct, fontVar) {
        if (activeCodeTab === "rgb") {
          return buildRgbVarsCss(primary, lightPct, darkPct, opacityPct, fontVar);
        }
        return buildHexVarsCss(primary, lightPct, darkPct, opacityPct, fontVar);
      }

      function setCodeTab(tab) {
        activeCodeTab = tab === "rgb" ? "rgb" : "hex";
        $("tabHex").classList.toggle("active", activeCodeTab === "hex");
        $("tabRgb").classList.toggle("active", activeCodeTab === "rgb");
        refreshPanels();
      }

      function refreshPanels() {
        const primary = normalizeHex($("primaryHex").value) || defaults.hex;
        const light = Number($("lightAmount").value);
        const dark = Number($("darkAmount").value);
        const opacity = Number($("opacityAmount").value);
        const fontVar = $("fontVar").value.trim() || defaults.font;

        $("primaryHex").value = primary;
        $("lightAmountLabel").textContent = `${light}%`;
        $("darkAmountLabel").textContent = `${dark}%`;
        $("opacityAmountLabel").textContent = `${opacity}%`;
        $("opacityRead").textContent = `${opacity}%`;
        $("hexRead").textContent = primary;

        const rgb = hexToRgb(primary);
        const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b);
        $("rgbRead").textContent = `${rgb.r}, ${rgb.g}, ${rgb.b}`;
        $("hRead").textContent = Math.round(hsl.h);
        $("sRead").textContent = Math.round(hsl.s);
        $("lRead").textContent = Math.round(hsl.l);
        updateWheelGuide(hsl.h);

        renderColorLine("tintsSwatches", [0.9, 0.78, 0.66, 0.54, 0.42, 0.3, 0.18, 0.08].map((v) => mixWith(primary, "#FFFFFF", v * 100)));
        renderColorLine("shadesSwatches", [0.1, 0.2, 0.3, 0.42, 0.52, 0.62, 0.72, 0.82].map((v) => mixWith(primary, "#000000", v * 100)));
        renderColorLine("tonesSwatches", [84, 72, 60, 48, 36, 24, 16, 8].map((sat) => hslToHex(hsl.h, sat, hsl.l)));
        renderColorLine("monoSwatches", [88, 78, 68, 58, 48, 38, 28, 18].map((l) => hslToHex(hsl.h, hsl.s, l)));

        renderHarmony("compSwatches", [0, 180].map((d) => hslToHex(shiftHue(hsl.h, d), hsl.s, hsl.l)));
        renderHarmony("splitSwatches", [0, 150, 210].map((d) => hslToHex(shiftHue(hsl.h, d), hsl.s, hsl.l)));
        renderHarmony("analogSwatches", [-30, 0, 30].map((d) => hslToHex(shiftHue(hsl.h, d), hsl.s, hsl.l)));
        renderHarmony("accAnalogSwatches", [-30, 0, 30, 180].map((d) => hslToHex(shiftHue(hsl.h, d), hsl.s, hsl.l)));
        renderHarmony("triadSwatches", [0, 120, 240].map((d) => hslToHex(shiftHue(hsl.h, d), hsl.s, hsl.l)));
        renderHarmony("squareSwatches", [0, 90, 180, 270].map((d) => hslToHex(shiftHue(hsl.h, d), hsl.s, hsl.l)));
        renderHarmony("tetradSwatches", [0, 60, 180, 240].map((d) => hslToHex(shiftHue(hsl.h, d), hsl.s, hsl.l)));

        $("cssOutput").value = getOutputCss(primary, light, dark, opacity, fontVar);
      }

      function applyPrimaryHex(hex) {
        const normalized = normalizeHex(hex);
        if (!normalized) return;
        $("primaryHex").value = normalized;
        if (colorPicker) {
          colorPicker.color.hexString = normalized;
        }
        refreshPanels();
      }

      async function copyText(text) {
        try {
          await navigator.clipboard.writeText(text);
          showToast("ØªÙ… Ø§Ù„Ù†Ø³Ø®");
        } catch (_e) {
          showToast("ØªØ¹Ø°Ø± Ø§Ù„Ù†Ø³Ø®");
        }
      }

      function downloadCss() {
        const content = $("cssOutput").value;
        if (!content) return;
        const blob = new Blob([content], { type: "text/css" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = activeCodeTab === "rgb" ? "primary-rgb-vars.css" : "primary-hex-vars.css";
        a.click();
        URL.revokeObjectURL(url);
      }

      function randomHex() {
        return (
          "#" + Math.floor(Math.random() * 16777215).toString(16).padStart(6, "0").toUpperCase()
        );
      }

      function resetAll() {
        $("primaryHex").value = defaults.hex;
        $("lightAmount").value = String(defaults.light);
        $("darkAmount").value = String(defaults.dark);
        $("opacityAmount").value = String(defaults.opacity);
        $("fontVar").value = defaults.font;
        applyPrimaryHex(defaults.hex);
      }

      document.addEventListener("DOMContentLoaded", () => {
        colorPicker = new iro.ColorPicker("#iroPicker", {
          width: 260,
          color: defaults.hex,
          borderWidth: 1,
          borderColor: "#444",
          layout: [
            { component: iro.ui.Wheel },
            { component: iro.ui.Slider, options: { sliderType: "value" } },
          ],
        });

        colorPicker.on("color:change", (color) => {
          $("primaryHex").value = color.hexString.toUpperCase();
          refreshPanels();
        });

        $("primaryHex").addEventListener("input", () => {
          const normalized = normalizeHex($("primaryHex").value);
          if (normalized) {
            colorPicker.color.hexString = normalized;
          }
          refreshPanels();
        });

        ["lightAmount", "darkAmount", "opacityAmount", "fontVar"].forEach((id) => {
          $(id).addEventListener("input", refreshPanels);
        });

        $("randomBtn").addEventListener("click", () => applyPrimaryHex(randomHex()));
        $("resetBtn").addEventListener("click", resetAll);
        $("downloadBtn").addEventListener("click", downloadCss);
        $("copyBtn").addEventListener("click", () => copyText($("cssOutput").value));
        $("cssOutput").addEventListener("click", () => copyText($("cssOutput").value));
        $("tabHex").addEventListener("click", () => setCodeTab("hex"));
        $("tabRgb").addEventListener("click", () => setCodeTab("rgb"));

        refreshPanels();
      });
    </script>
  </body>
</html>
