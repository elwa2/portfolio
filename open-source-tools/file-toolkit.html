<!doctype html>
<html lang="ar" dir="rtl" data-theme="light">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-1B3TL3YJ0J"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-1B3TL3YJ0J");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File Toolkit - Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª | Ali Ahmed</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link rel="stylesheet" href="../assets/css/fonts.css" />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <link rel="stylesheet" href="../assets/css/design-enhancements.css" />
    <link rel="stylesheet" href="../assets/css/animations.css" />
    <link rel="stylesheet" href="../assets/css/svg-icons.css" />
    <link
      rel="icon"
      href="../assets/images/logo ico.svg"
      type="image/svg+xml"
    />

    <!-- PDF.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
    <!-- PDF-lib for PDF creation and manipulation -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>

    <!-- Scripts for 3D Background -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="../assets/js/three-bg.js" defer></script>
    <script src="../assets/js/main.js" defer></script>
    <script src="../assets/js/svg-icons.js" defer></script>

    <style>
      :root {
        --toolkit-primary: #5e3bee;
        --toolkit-primary-dark: #4a2fbe;
        --toolkit-primary-light: #7d56f9;
        --toolkit-success: #10b981;
        --toolkit-error: #ef4444;
        --toolkit-warning: #f59e0b;
        --toolkit-blue: #3b82f6;
        --toolkit-purple: #8b5cf6;
      }

      * {
        box-sizing: border-box;
      }

      .tool-page-wrapper {
        padding: 130px 0 80px;
        min-height: 80vh;
        position: relative;
        z-index: 1;
      }

      .toolkit-container {
        max-width: 1400px;
        margin: 0 auto;
      }

      .tool-hero {
        text-align: center;
        margin-bottom: 40px;
      }

      .tool-hero h1 {
        font-size: 2.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-purple));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 16px;
      }

      .tool-hero p {
        color: var(--text-color-light);
        font-size: 1.1rem;
        max-width: 700px;
        margin: 0 auto;
      }

      /* Sidebar Navigation */
      .toolkit-layout {
        display: flex;
        gap: 30px;
        background: var(--card-bg);
        border-radius: var(--border-radius-lg);
        box-shadow: var(--box-shadow);
        overflow: hidden;
        border: 1px solid var(--border-color);
        min-height: 600px;
      }

      .toolkit-sidebar {
        width: 280px;
        background: var(--bg-color-alt);
        padding: 30px 0;
        border-left: 1px solid var(--border-color);
        flex-shrink: 0;
      }

      .sidebar-section {
        margin-bottom: 30px;
      }

      .sidebar-section-title {
        padding: 0 25px;
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        color: var(--text-color-light);
        margin-bottom: 12px;
        letter-spacing: 0.5px;
      }

      .sidebar-nav {
        list-style: none;
        padding: 0;
        margin: 0;
      }

      .sidebar-nav-item {
        padding: 12px 25px;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 12px;
        color: var(--text-color);
        font-weight: 500;
        position: relative;
      }

      .sidebar-nav-item i {
        font-size: 1.1rem;
        color: var(--primary-color);
        width: 20px;
      }

      .sidebar-nav-item:hover {
        background: rgba(var(--primary-rgb), 0.05);
        color: var(--primary-color);
      }

      .sidebar-nav-item.active {
        background: rgba(var(--primary-rgb), 0.1);
        color: var(--primary-color);
        font-weight: 600;
      }

      .sidebar-nav-item.active::before {
        content: '';
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
        width: 4px;
        background: var(--primary-color);
        border-radius: 4px 0 0 4px;
      }

      /* Main Content Area */
      .toolkit-content {
        flex: 1;
        padding: 40px;
        overflow-y: auto;
      }

      .content-section {
        display: none;
      }

      .content-section.active {
        display: block;
        animation: fadeIn 0.3s ease;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .section-header {
        margin-bottom: 30px;
      }

      .section-header h2 {
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-color);
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section-header h2 i {
        color: var(--primary-color);
      }

      .section-header p {
        color: var(--text-color-light);
        font-size: 1rem;
      }

      /* Upload Zone */
      .upload-zone {
        border: 3px dashed var(--primary-color);
        border-radius: var(--border-radius-lg);
        padding: 60px 30px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        background: linear-gradient(135deg, rgba(94, 59, 238, 0.05) 0%, rgba(125, 86, 249, 0.05) 100%);
        margin-bottom: 30px;
      }

      .upload-zone:hover,
      .upload-zone.drag-over {
        border-color: var(--primary-dark);
        background: linear-gradient(135deg, rgba(94, 59, 238, 0.1) 0%, rgba(125, 86, 249, 0.1) 100%);
        transform: scale(1.01);
      }

      .upload-zone i {
        font-size: 3.5rem;
        color: var(--primary-color);
        margin-bottom: 20px;
        display: block;
      }

      .upload-zone h3 {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--text-color);
        margin-bottom: 10px;
      }

      .upload-zone p {
        color: var(--text-color-light);
        font-size: 0.95rem;
      }

      .upload-zone input[type="file"] {
        display: none;
      }

      /* Image Preview */
      .image-preview-container {
        display: none;
        margin-bottom: 30px;
      }

      .image-preview-container.active {
        display: block;
      }

      .preview-wrapper {
        position: relative;
        max-width: 100%;
        max-height: 500px;
        margin: 0 auto;
        border: 2px solid var(--border-color);
        border-radius: var(--border-radius);
        overflow: hidden;
        background: var(--input-bg);
      }

      .preview-image {
        max-width: 100%;
        max-height: 500px;
        display: block;
        margin: 0 auto;
      }

      /* Controls Panel */
      .controls-panel {
        background: var(--bg-color-alt);
        border-radius: var(--border-radius);
        padding: 25px;
        margin-bottom: 25px;
        border: 1px solid var(--border-color);
      }

      .controls-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
      }

      .control-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .control-label {
        font-weight: 600;
        color: var(--text-color);
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .control-label i {
        color: var(--primary-color);
      }

      input[type="range"] {
        width: 100%;
        height: 6px;
        border-radius: 5px;
        background: var(--border-color);
        outline: none;
        -webkit-appearance: none;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(94, 59, 238, 0.3);
      }

      input[type="range"]::-moz-range-thumb {
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--primary-color);
        cursor: pointer;
        border: none;
      }

      select {
        padding: 10px 14px;
        border: 2px solid var(--border-color);
        border-radius: var(--border-radius);
        font-size: 0.95rem;
        background: var(--card-bg);
        color: var(--text-color);
        font-family: inherit;
        cursor: pointer;
      }

      select:focus {
        outline: none;
        border-color: var(--primary-color);
      }

      /* Buttons */
      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: var(--border-radius);
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s ease;
        font-family: inherit;
      }

      .btn-primary {
        background: var(--primary-gradient);
        color: white;
        box-shadow: 0 4px 15px rgba(94, 59, 238, 0.3);
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(94, 59, 238, 0.4);
      }

      .btn-secondary {
        background: var(--bg-color-alt);
        color: var(--text-color);
        border: 2px solid var(--border-color);
      }

      .btn-secondary:hover {
        background: var(--border-color);
      }

      .btn-success {
        background: var(--toolkit-success);
        color: white;
      }

      .btn-success:hover {
        background: #059669;
      }

      .btn-group {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-bottom: 25px;
      }

      /* File List */
      .files-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 25px;
      }

      .file-item {
        background: var(--bg-color-alt);
        border: 2px solid var(--border-color);
        border-radius: var(--border-radius);
        padding: 15px;
        transition: all 0.3s ease;
      }

      .file-item:hover {
        border-color: var(--primary-color);
        box-shadow: 0 4px 15px rgba(94, 59, 238, 0.1);
      }

      .file-preview {
        width: 100%;
        height: 120px;
        object-fit: cover;
        border-radius: var(--border-radius);
        background: var(--card-bg);
        margin-bottom: 12px;
      }

      .file-icon {
        width: 100%;
        height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--border-radius);
        background: var(--card-bg);
        margin-bottom: 12px;
      }

      .file-info {
        margin-bottom: 12px;
      }

      .file-name {
        font-weight: 600;
        color: var(--text-color);
        font-size: 0.9rem;
        margin-bottom: 6px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .file-meta {
        font-size: 0.8rem;
        color: var(--text-color-light);
      }

      .file-actions {
        display: flex;
        gap: 8px;
      }

      .file-actions .btn {
        flex: 1;
        justify-content: center;
        font-size: 0.8rem;
        padding: 8px 12px;
      }

      /* Info Banner */
      .info-banner {
        background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        border-right: 4px solid var(--toolkit-blue);
        border-radius: var(--border-radius);
        padding: 15px 20px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 0.9rem;
        color: #1e40af;
      }

      [data-theme="dark"] .info-banner {
        background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(59, 130, 246, 0.1) 100%);
        color: #93c5fd;
      }

      .info-banner i {
        font-size: 1.2rem;
        flex-shrink: 0;
      }

      .success-banner {
        background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        border-right-color: var(--toolkit-success);
        color: #065f46;
      }

      [data-theme="dark"] .success-banner {
        background: linear-gradient(135deg, rgba(16, 185, 129, 0.2) 0%, rgba(16, 185, 129, 0.1) 100%);
        color: #6ee7b7;
      }

      /* Responsive */
      @media (max-width: 1024px) {
        .toolkit-layout {
          flex-direction: column;
        }

        .toolkit-sidebar {
          width: 100%;
          border-left: none;
          border-bottom: 1px solid var(--border-color);
        }

        .sidebar-nav {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }

        .sidebar-nav-item {
          padding: 10px 20px;
          border-radius: var(--border-radius);
        }

        .sidebar-nav-item.active::before {
          display: none;
        }

        .toolkit-content {
          padding: 30px 20px;
        }
      }

      @media (max-width: 768px) {
        .tool-hero h1 {
          font-size: 1.8rem;
        }

        .controls-grid {
          grid-template-columns: 1fr;
        }

        .files-list {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body class="theme-aware">
    <div class="grain-overlay"></div>
    <div id="three-canvas-container"></div>
    <div class="floating-background">
      <div class="floating-icon" style="left: 10%; animation-duration: 8s">ğŸš€</div>
      <div class="floating-icon" style="left: 25%; animation-duration: 10s; animation-delay: 2s">â­</div>
      <div class="floating-icon" style="left: 40%; animation-duration: 12s; animation-delay: 4s">ğŸ”¥</div>
      <div class="floating-icon" style="left: 55%; animation-duration: 9s; animation-delay: 1s">ğŸ’</div>
      <div class="floating-icon" style="left: 70%; animation-duration: 11s; animation-delay: 3s">ğŸ¯</div>
      <div class="floating-icon" style="left: 85%; animation-duration: 13s; animation-delay: 5s">âš¡</div>
    </div>

    <header class="header">
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <a href="../index.html">
              <img src="../assets/images/logo.svg" alt="Ali Ahmed" />
            </a>
          </div>
          <nav class="nav">
            <ul class="nav-links">
              <li><a href="../index.html#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
              <li><a href="../index.html#about">Ù…Ù† Ù†Ø­Ù†</a></li>
              <li><a href="../index.html#services">Ø®Ø¯Ù…Ø§ØªÙ†Ø§</a></li>
              <li><a href="../works.html">Ø£Ø¹Ù…Ø§Ù„Ù†Ø§</a></li>
              <li><a href="../index.html#salla-discounts">Ø£ÙƒÙˆØ§Ø¯ Ø®ØµÙ… Ø³Ù„Ø©</a></li>
              <li><a href="index.html" class="active">Ø£Ø¯ÙˆØ§ØªÙ†Ø§</a></li>
              <li><a href="../index.html#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
              <li><a href="../index.html#payment">Ø§Ù„Ø¯ÙØ¹</a></li>
            </ul>
          </nav>
          <div class="header-actions">
            <div class="theme-toggle" onclick="toggleTheme()">
              <svg class="svg-icon" viewBox="0 0 512 512">
                <use href="../assets/images/icons.svg#icon-moon"></use>
              </svg>
            </div>
            <div class="mobile-toggle">
              <svg class="svg-icon" viewBox="0 0 448 512">
                <use href="../assets/images/icons.svg#icon-bars"></use>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="tool-page-wrapper">
      <div class="container">
        <div class="toolkit-container">
          <div class="tool-hero">
            <h1><i class="fas fa-toolbox"></i> File Toolkit - Ù…Ø¬Ù…ÙˆØ¹Ø© Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª</h1>
            <p>
              Ù…Ø¬Ù…ÙˆØ¹Ø© Ø´Ø§Ù…Ù„Ø© Ù…Ù† Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ÙˆØªØ­Ø±ÙŠØ± Ø§Ù„ØµÙˆØ± ÙˆÙ…Ù„ÙØ§Øª PDF Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø© ÙˆØ§Ø­ØªØ±Ø§ÙÙŠØ©
            </p>
          </div>

          <div class="toolkit-layout">
            <!-- Sidebar Navigation -->
            <aside class="toolkit-sidebar">
              <div class="sidebar-section">
                <h3 class="sidebar-section-title">Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØµÙˆØ±</h3>
                <ul class="sidebar-nav">
                  <li class="sidebar-nav-item active" data-section="image-editor">
                    <i class="fas fa-edit"></i>
                    <span>Ù…Ø­Ø±Ø± Ø§Ù„ØµÙˆØ±</span>
                  </li>
                  <li class="sidebar-nav-item" data-section="image-converter">
                    <i class="fas fa-exchange-alt"></i>
                    <span>Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙŠØº</span>
                  </li>
                  <li class="sidebar-nav-item" data-section="image-compress">
                    <i class="fas fa-compress-alt"></i>
                    <span>Ø¶ØºØ· Ø§Ù„ØµÙˆØ±</span>
                  </li>
                </ul>
              </div>

              <div class="sidebar-section">
                <h3 class="sidebar-section-title">Ø£Ø¯ÙˆØ§Øª PDF</h3>
                <ul class="sidebar-nav">
                  <li class="sidebar-nav-item" data-section="pdf-merge">
                    <i class="fas fa-object-group"></i>
                    <span>Ø¯Ù…Ø¬ PDF</span>
                  </li>
                  <li class="sidebar-nav-item" data-section="images-to-pdf">
                    <i class="fas fa-file-pdf"></i>
                    <span>ØµÙˆØ± Ø¥Ù„Ù‰ PDF</span>
                  </li>
                </ul>
              </div>
            </aside>

            <!-- Main Content -->
            <main class="toolkit-content">
              <!-- Image Editor Section -->
              <section class="content-section active" id="image-editor">
                <div class="section-header">
                  <h2><i class="fas fa-edit"></i> Ù…Ø­Ø±Ø± Ø§Ù„ØµÙˆØ±</h2>
                  <p>Ù‚Ù… Ø¨ØªØ­Ø±ÙŠØ± ØµÙˆØ±Ùƒ Ø¨Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙ„Ø§ØªØ± ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</p>
                </div>

                <div class="upload-zone" id="editorUploadZone">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <h3>Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© Ù„Ù„ØªØ­Ø±ÙŠØ±</h3>
                  <p>Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„ØµÙˆØ±Ø© Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„ØªØµÙØ­</p>
                  <input type="file" id="editorFileInput" accept="image/*" />
                </div>

                <div class="image-preview-container" id="editorPreviewContainer">
                  <div class="controls-panel">
                    <div class="controls-grid">
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-sun"></i>
                          Ø§Ù„Ø³Ø·ÙˆØ¹: <span id="brightnessValue">100</span>%
                        </label>
                        <input type="range" id="brightness" min="0" max="200" value="100" />
                      </div>
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-adjust"></i>
                          Ø§Ù„ØªØ¨Ø§ÙŠÙ†: <span id="contrastValue">100</span>%
                        </label>
                        <input type="range" id="contrast" min="0" max="200" value="100" />
                      </div>
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-palette"></i>
                          Ø§Ù„ØªØ´Ø¨Ø¹: <span id="saturateValue">100</span>%
                        </label>
                        <input type="range" id="saturate" min="0" max="200" value="100" />
                      </div>
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-tint"></i>
                          Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø±Ù…Ø§Ø¯ÙŠ: <span id="grayscaleValue">0</span>%
                        </label>
                        <input type="range" id="grayscale" min="0" max="100" value="0" />
                      </div>
                    </div>
                  </div>

                  <div class="preview-wrapper">
                    <canvas id="editorCanvas"></canvas>
                  </div>

                  <div class="btn-group">
                    <button class="btn btn-primary" onclick="downloadEditedImage()">
                      <i class="fas fa-download"></i> ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©
                    </button>
                    <button class="btn btn-secondary" onclick="resetImageFilters()">
                      <i class="fas fa-undo"></i> Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
                    </button>
                    <button class="btn btn-secondary" onclick="changeEditorImage()">
                      <i class="fas fa-image"></i> ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©
                    </button>
                  </div>
                </div>
              </section>

              <!-- Image Converter Section -->
              <section class="content-section" id="image-converter">
                <div class="section-header">
                  <h2><i class="fas fa-exchange-alt"></i> Ù…Ø­ÙˆÙ„ ØµÙŠØº Ø§Ù„ØµÙˆØ±</h2>
                  <p>Ø­ÙˆÙ„ ØµÙˆØ±Ùƒ Ø¨ÙŠÙ† Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
                </div>

                <div class="upload-zone" id="converterUploadZone">
                  <i class="fas fa-images"></i>
                  <h3>Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© Ø£Ùˆ Ø¹Ø¯Ø© ØµÙˆØ±</h3>
                  <p>ÙŠØ¯Ø¹Ù… JPG, PNG, WebP, GIF</p>
                  <input type="file" id="converterFileInput" accept="image/*" multiple />
                </div>

                <div class="image-preview-container" id="converterPreviewContainer">
                  <div class="controls-panel">
                    <div class="controls-grid">
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-file-image"></i>
                          Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©
                        </label>
                        <select id="targetFormat">
                          <option value="image/jpeg">JPEG</option>
                          <option value="image/png">PNG</option>
                          <option value="image/webp">WebP</option>
                        </select>
                      </div>
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-sliders-h"></i>
                          Ø§Ù„Ø¬ÙˆØ¯Ø©: <span id="converterQualityValue">90</span>%
                        </label>
                        <input type="range" id="converterQuality" min="1" max="100" value="90" />
                      </div>
                    </div>
                  </div>

                  <div class="info-banner">
                    <i class="fas fa-info-circle"></i>
                    <span>ØªÙ… ØªØ­Ù…ÙŠÙ„ <span id="converterFilesCount">0</span> ØµÙˆØ±Ø©. Ø§Ø®ØªØ± Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© ÙˆØ§Ù†Ù‚Ø± Ø¹Ù„Ù‰ ØªØ­ÙˆÙŠÙ„.</span>
                  </div>

                  <div class="files-list" id="converterFilesList"></div>

                  <div class="btn-group">
                    <button class="btn btn-primary" onclick="convertImages()">
                      <i class="fas fa-sync-alt"></i> ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±
                    </button>
                    <button class="btn btn-secondary" onclick="clearConverterFiles()">
                      <i class="fas fa-trash-alt"></i> Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
                    </button>
                  </div>
                </div>
              </section>

              <!-- Image Compress Section -->
              <section class="content-section" id="image-compress">
                <div class="section-header">
                  <h2><i class="fas fa-compress-alt"></i> Ø¶ØºØ· Ø§Ù„ØµÙˆØ±</h2>
                  <p>Ù‚Ù„Ù„ Ø­Ø¬Ù… ØµÙˆØ±Ùƒ Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ¯Ø©</p>
                </div>

                <div class="upload-zone" id="compressUploadZone">
                  <i class="fas fa-file-archive"></i>
                  <h3>Ø§Ø±ÙØ¹ ØµÙˆØ±Ø© Ù„Ù„Ø¶ØºØ·</h3>
                  <p>Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªÙ‚Ù„ÙŠÙ„ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ¯Ø©</p>
                  <input type="file" id="compressFileInput" accept="image/*" multiple />
                </div>

                <div class="image-preview-container" id="compressPreviewContainer">
                  <div class="controls-panel">
                    <div class="controls-grid">
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-sliders-h"></i>
                          Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¶ØºØ·: <span id="compressQualityValue">80</span>%
                        </label>
                        <input type="range" id="compressQuality" min="1" max="100" value="80" />
                      </div>
                      <div class="control-group">
                        <label class="control-label">
                          <i class="fas fa-image"></i>
                          Ø§Ù„ØµÙŠØºØ©
                        </label>
                        <select id="compressFormat">
                          <option value="image/jpeg">JPEG</option>
                          <option value="image/webp">WebP</option>
                        </select>
                      </div>
                    </div>
                  </div>

                  <div class="files-list" id="compressFilesList"></div>

                  <div class="btn-group">
                    <button class="btn btn-primary" onclick="compressImages()">
                      <i class="fas fa-compress"></i> Ø¶ØºØ· Ø§Ù„ØµÙˆØ±
                    </button>
                    <button class="btn btn-secondary" onclick="clearCompressFiles()">
                      <i class="fas fa-trash-alt"></i> Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„
                    </button>
                  </div>
                </div>
              </section>

              <!-- PDF Merge Section -->
              <section class="content-section" id="pdf-merge">
                <div class="section-header">
                  <h2><i class="fas fa-object-group"></i> Ø¯Ù…Ø¬ Ù…Ù„ÙØ§Øª PDF</h2>
                  <p>Ø§Ø¯Ù…Ø¬ Ø¹Ø¯Ø© Ù…Ù„ÙØ§Øª PDF ÙÙŠ Ù…Ù„Ù ÙˆØ§Ø­Ø¯</p>
                </div>

                <div class="upload-zone" id="pdfMergeUploadZone">
                  <input type="file" id="pdfMergeFileInput" accept=".pdf" multiple style="display: none;" />
                  <i class="fas fa-file-pdf"></i>
                  <h3>Ø§Ø³Ø­Ø¨ Ù…Ù„ÙØ§Øª PDF Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„ØªØ­Ù…ÙŠÙ„</h3>
                  <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø±ÙØ¹ Ø¹Ø¯Ø© Ù…Ù„ÙØ§Øª PDF ÙˆØ¯Ù…Ø¬Ù‡Ø§ ÙÙŠ Ù…Ù„Ù ÙˆØ§Ø­Ø¯</p>
                </div>

                <div class="preview-container" id="pdfMergePreviewContainer">
                  <div class="preview-header">
                    <h3>Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© (<span id="pdfMergeCount">0</span>)</h3>
                    <button class="btn btn-secondary" onclick="clearPdfMergeFiles()">
                      <i class="fas fa-trash"></i> Ø­Ø°Ù Ø§Ù„ÙƒÙ„
                    </button>
                  </div>
                  <div class="files-list" id="pdfMergeFilesList"></div>
                  <div class="controls-group">
                    <button class="btn btn-primary" onclick="mergePdfs()">
                      <i class="fas fa-object-group"></i> Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª
                    </button>
                  </div>
                </div>
              </section>

              <!-- Images to PDF Section -->
              <section class="content-section" id="images-to-pdf">
                <div class="section-header">
                  <h2><i class="fas fa-file-pdf"></i> ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø¥Ù„Ù‰ PDF</h2>
                  <p>Ø­ÙˆÙ„ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„ØµÙˆØ± Ø¥Ù„Ù‰ Ù…Ù„Ù PDF ÙˆØ§Ø­Ø¯</p>
                </div>

                <div class="upload-zone" id="imagesToPdfUploadZone">
                  <input type="file" id="imagesToPdfFileInput" accept="image/*" multiple style="display: none;" />
                  <i class="fas fa-images"></i>
                  <h3>Ø§Ø³Ø­Ø¨ Ø§Ù„ØµÙˆØ± Ù‡Ù†Ø§ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ù„ØªØ­Ù…ÙŠÙ„</h3>
                  <p>ÙŠÙ…ÙƒÙ†Ùƒ Ø±ÙØ¹ Ø¹Ø¯Ø© ØµÙˆØ± ÙˆØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ø¥Ù„Ù‰ Ù…Ù„Ù PDF ÙˆØ§Ø­Ø¯</p>
                </div>

                <div class="preview-container" id="imagesToPdfPreviewContainer">
                  <div class="preview-header">
                    <h3>Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© (<span id="imagesToPdfCount">0</span>)</h3>
                    <button class="btn btn-secondary" onclick="clearImagesToPdfFiles()">
                      <i class="fas fa-trash"></i> Ø­Ø°Ù Ø§Ù„ÙƒÙ„
                    </button>
                  </div>
                  <div class="files-list" id="imagesToPdfFilesList"></div>
                  <div class="controls-group">
                    <div class="control-group">
                      <label for="pdfPageSize">Ø­Ø¬Ù… Ø§Ù„ØµÙØ­Ø©:</label>
                      <select id="pdfPageSize" class="control-input">
                        <option value="a4">A4</option>
                        <option value="letter">Letter</option>
                        <option value="a3">A3</option>
                        <option value="custom">Ø­Ø³Ø¨ Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±Ø©</option>
                      </select>
                    </div>
                    <div class="control-group">
                      <label for="pdfOrientation">Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©:</label>
                      <select id="pdfOrientation" class="control-input">
                        <option value="portrait">Ø¹Ù…ÙˆØ¯ÙŠ</option>
                        <option value="landscape">Ø£ÙÙ‚ÙŠ</option>
                      </select>
                    </div>
                    <button class="btn btn-primary" onclick="convertImagesToPdf()">
                      <i class="fas fa-file-pdf"></i> Ø¥Ù†Ø´Ø§Ø¡ PDF
                    </button>
                  </div>
                </div>
              </section>
            </main>
          </div>
        </div>
      </div>
    </div>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="footer" id="footer_aboutus">
      <div class="container">
        <div class="footer-content">
          <div class="footer-about">
            <div class="footer-logo">
              <img src="../assets/images/logo.svg" alt="Ali Ahmed" />
            </div>
            <p class="about-text">
              Ù…ØµÙ…Ù… Ù…ØªØ®ØµØµ ÙÙŠ ØªØ·ÙˆÙŠØ± ÙˆØªØµÙ…ÙŠÙ… Ù…ØªØ§Ø¬Ø± Ù…Ù†ØµØ© Ø²Ø¯ ÙˆØ³Ù„Ø©ØŒ Ø£Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª ØªØ®ØµÙŠØµ CSS Ù„Ø¬Ø¹Ù„ Ù…ØªØ¬Ø±Ùƒ ÙØ±ÙŠØ¯Ø§Ù‹ ÙˆÙ…Ù…ÙŠØ². Ø®Ø¨Ø±Ø© ÙˆØ§Ø³Ø¹Ø© ÙÙŠ ØªØ­Ø³ÙŠÙ† ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØªØ¬Ø±Ø¨Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª.
            </p>
            <div class="footer-certificate">
              <a href="https://www.behance.net/3lwaaa1" target="_blank">
                <img src="../assets/images/logo ico.svg" alt="Ali Ahmed" />
                <span>Ali Ahmed | Ù…ØµÙ…Ù… Ù…Ù†ØµØ© Ø²Ø¯ ÙˆØ³Ù„Ø©</span>
              </a>
            </div>
            <p class="footer-cr">Custom Css Salla zid</p>
          </div>

          <div class="footer-links">
            <h3>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
            <ul>
              <li><a href="../index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
              <li><a href="index.html">Ø£Ø¯ÙˆØ§ØªÙ†Ø§</a></li>
              <li><a href="../index.html#contact">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
            </ul>
          </div>

          <div class="footer-contact">
            <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
            <ul>
              <li>
                <svg class="svg-icon" viewBox="0 0 384 512">
                  <use href="../assets/images/icons.svg#icon-map-marker-alt"></use>
                </svg>
                <span>Ù…ØµØ±</span>
              </li>
              <li>
                <svg class="svg-icon" viewBox="0 0 512 512">
                  <use href="../assets/images/icons.svg#icon-phone"></use>
                </svg>
                <span>+20 100 224 1591</span>
              </li>
              <li>
                <svg class="svg-icon" viewBox="0 0 512 512">
                  <use href="../assets/images/icons.svg#icon-envelope"></use>
                </svg>
                <span>salla1zid@gmail.com</span>
              </li>
            </ul>
            <div class="footer-social">
              <a href="https://wa.me/201002241591" target="_blank">
                <svg class="svg-icon" viewBox="0 0 448 512">
                  <use href="../assets/images/icons.svg#icon-whatsapp"></use>
                </svg>
              </a>
              <a href="https://www.instagram.com/salla1zid/" target="_blank">
                <svg class="svg-icon" viewBox="0 0 448 512">
                  <use href="../assets/images/icons.svg#icon-instagram"></use>
                </svg>
              </a>
              <a href="https://twitter.com/salla1zid" target="_blank">
                <svg class="svg-icon" viewBox="0 0 512 512">
                  <use href="../assets/images/icons.svg#icon-twitter"></use>
                </svg>
              </a>
              <a href="https://t.me/cssfree1" target="_blank">
                <svg class="svg-icon" viewBox="0 0 496 512">
                  <use href="../assets/images/icons.svg#icon-telegram"></use>
                </svg>
              </a>
            </div>
          </div>
        </div>
        <div class="footer-bottom">
          <p>
            Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; <span id="currentYear"></span> Ali Ahmed | Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ù…ÙØªÙˆØ­Ø© Ø§Ù„Ù…ØµØ¯Ø±
          </p>
        </div>
      </div>
    </footer>

    <!-- Ø²Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø¹Ø§Ø¦Ù… -->
    <a href="https://wa.me/201002241591" class="floating-whatsapp" target="_blank">
      <svg class="svg-icon" viewBox="0 0 448 512">
        <use href="../assets/images/icons.svg#icon-whatsapp"></use>
      </svg>
    </a>

    <script>
      // Initialize
      document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        initializeSidebar();
        initializeImageEditor();
        initializeImageConverter();
        initializeImageCompress();
        initializePdfMerge();
        initializeImagesToPdf();
      });

      // Sidebar Navigation
      function initializeSidebar() {
        const navItems = document.querySelectorAll('.sidebar-nav-item');
        const sections = document.querySelectorAll('.content-section');

        navItems.forEach(item => {
          item.addEventListener('click', () => {
            const targetSection = item.dataset.section;
            
            // Update active states
            navItems.forEach(nav => nav.classList.remove('active'));
            item.classList.add('active');

            // Show target section
            sections.forEach(section => {
              section.classList.remove('active');
              if (section.id === targetSection) {
                section.classList.add('active');
              }
            });
          });
        });
      }

      // ============================================
      // IMAGE EDITOR
      // ============================================
      let editorImage = null;
      let editorCanvas = null;
      let editorCtx = null;

      function initializeImageEditor() {
        editorCanvas = document.getElementById('editorCanvas');
        editorCtx = editorCanvas.getContext('2d');

        const uploadZone = document.getElementById('editorUploadZone');
        const fileInput = document.getElementById('editorFileInput');

        uploadZone.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => {
          if (e.target.files[0]) handleEditorImage(e.target.files[0]);
        });

        // Drag & Drop
        uploadZone.addEventListener('dragover', (e) => {
          e.preventDefault();
          uploadZone.classList.add('drag-over');
        });
        uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('drag-over'));
        uploadZone.addEventListener('drop', (e) => {
          e.preventDefault();
          uploadZone.classList.remove('drag-over');
          if (e.dataTransfer.files[0]) handleEditorImage(e.dataTransfer.files[0]);
        });

        // Range inputs
        ['brightness', 'contrast', 'saturate', 'grayscale'].forEach(filter => {
          const input = document.getElementById(filter);
          const valueSpan = document.getElementById(filter + 'Value');
          input.addEventListener('input', () => {
            valueSpan.textContent = input.value;
            applyImageFilters();
          });
        });
      }

      function handleEditorImage(file) {
        if (!file.type.startsWith('image/')) {
          alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù ØµÙˆØ±Ø© ØµØ§Ù„Ø­');
          return;
        }

        const reader = new FileReader();
        reader.onload = (e) => {
          const img = new Image();
          img.onload = () => {
            editorImage = img;
            editorCanvas.width = img.width;
            editorCanvas.height = img.height;
            applyImageFilters();
            document.getElementById('editorPreviewContainer').classList.add('active');
          };
          img.src = e.target.result;
        };
        reader.readAsDataURL(file);
      }

      function applyImageFilters() {
        if (!editorImage) return;

        const brightness = document.getElementById('brightness').value;
        const contrast = document.getElementById('contrast').value;
        const saturate = document.getElementById('saturate').value;
        const grayscale = document.getElementById('grayscale').value;

        editorCtx.filter = `brightness(${brightness}%) contrast(${contrast}%) saturate(${saturate}%) grayscale(${grayscale}%)`;
        editorCtx.clearRect(0, 0, editorCanvas.width, editorCanvas.height);
        editorCtx.drawImage(editorImage, 0, 0);
      }

      function resetImageFilters() {
        document.getElementById('brightness').value = 100;
        document.getElementById('contrast').value = 100;
        document.getElementById('saturate').value = 100;
        document.getElementById('grayscale').value = 0;
        ['brightness', 'contrast', 'saturate', 'grayscale'].forEach(filter => {
          document.getElementById(filter + 'Value').textContent = document.getElementById(filter).value;
        });
        applyImageFilters();
      }

      function downloadEditedImage() {
        if (!editorCanvas) return;
        editorCanvas.toBlob((blob) => {
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'edited_image.png';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);
        });
      }

      function changeEditorImage() {
        document.getElementById('editorFileInput').click();
      }

      // ============================================
      // IMAGE CONVERTER
      // ============================================
      let converterFiles = [];

      function initializeImageConverter() {
        const uploadZone = document.getElementById('converterUploadZone');
        const fileInput = document.getElementById('converterFileInput');

        uploadZone.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => {
          Array.from(e.target.files).forEach(file => addConverterFile(file));
        });

        // Drag & Drop
        uploadZone.addEventListener('dragover', (e) => {
          e.preventDefault();
          uploadZone.classList.add('drag-over');
        });
        uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('drag-over'));
        uploadZone.addEventListener('drop', (e) => {
          e.preventDefault();
          uploadZone.classList.remove('drag-over');
          Array.from(e.dataTransfer.files).forEach(file => addConverterFile(file));
        });

        // Quality slider
        const qualityInput = document.getElementById('converterQuality');
        const qualityValue = document.getElementById('converterQualityValue');
        qualityInput.addEventListener('input', () => {
          qualityValue.textContent = qualityInput.value;
        });
      }

      function addConverterFile(file) {
        if (!file.type.startsWith('image/')) return;

        const id = Date.now() + Math.random();
        const reader = new FileReader();
        reader.onload = (e) => {
          converterFiles.push({
            id: id,
            file: file,
            dataUrl: e.target.result,
            name: file.name
          });
          updateConverterUI();
        };
        reader.readAsDataURL(file);
      }

      function updateConverterUI() {
        const container = document.getElementById('converterPreviewContainer');
        const filesList = document.getElementById('converterFilesList');
        const filesCount = document.getElementById('converterFilesCount');

        container.classList.add('active');
        filesCount.textContent = converterFiles.length;

        filesList.innerHTML = '';
        converterFiles.forEach(fileObj => {
          const div = document.createElement('div');
          div.className = 'file-item';
          div.innerHTML = `
            <img src="${fileObj.dataUrl}" alt="${fileObj.name}" class="file-preview" />
            <div class="file-info">
              <div class="file-name">${fileObj.name}</div>
              <div class="file-meta">${formatBytes(fileObj.file.size)}</div>
            </div>
            <div class="file-actions">
              <button class="btn btn-secondary" onclick="removeConverterFile(${fileObj.id})">
                <i class="fas fa-times"></i>
              </button>
            </div>
          `;
          filesList.appendChild(div);
        });
      }

      function removeConverterFile(id) {
        converterFiles = converterFiles.filter(f => f.id !== id);
        updateConverterUI();
        if (converterFiles.length === 0) {
          document.getElementById('converterPreviewContainer').classList.remove('active');
        }
      }

      function clearConverterFiles() {
        converterFiles = [];
        document.getElementById('converterPreviewContainer').classList.remove('active');
        document.getElementById('converterFileInput').value = '';
      }

      async function convertImages() {
        if (converterFiles.length === 0) {
          alert('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
          return;
        }

        const format = document.getElementById('targetFormat').value;
        const quality = parseInt(document.getElementById('converterQuality').value) / 100;

        for (const fileObj of converterFiles) {
          const img = new Image();
          img.src = fileObj.dataUrl;
          await new Promise(resolve => {
            img.onload = () => {
              const canvas = document.createElement('canvas');
              canvas.width = img.width;
              canvas.height = img.height;
              const ctx = canvas.getContext('2d');
              ctx.drawImage(img, 0, 0);

              canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                const ext = format.split('/')[1];
                a.download = fileObj.name.replace(/\.[^/.]+$/, '') + '.' + ext;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                resolve();
              }, format, quality);
            };
          });
        }
      }

      // ============================================
      // IMAGE COMPRESS
      // ============================================
      let compressFiles = [];

      function initializeImageCompress() {
        const uploadZone = document.getElementById('compressUploadZone');
        const fileInput = document.getElementById('compressFileInput');

        uploadZone.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => {
          Array.from(e.target.files).forEach(file => addCompressFile(file));
        });

        // Drag & Drop
        uploadZone.addEventListener('dragover', (e) => {
          e.preventDefault();
          uploadZone.classList.add('drag-over');
        });
        uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('drag-over'));
        uploadZone.addEventListener('drop', (e) => {
          e.preventDefault();
          uploadZone.classList.remove('drag-over');
          Array.from(e.dataTransfer.files).forEach(file => addCompressFile(file));
        });

        // Quality slider
        const qualityInput = document.getElementById('compressQuality');
        const qualityValue = document.getElementById('compressQualityValue');
        qualityInput.addEventListener('input', () => {
          qualityValue.textContent = qualityInput.value;
        });
      }

      function addCompressFile(file) {
        if (!file.type.startsWith('image/')) return;

        const id = Date.now() + Math.random();
        const reader = new FileReader();
        reader.onload = (e) => {
          compressFiles.push({
            id: id,
            file: file,
            dataUrl: e.target.result,
            name: file.name,
            originalSize: file.size
          });
          updateCompressUI();
        };
        reader.readAsDataURL(file);
      }

      function updateCompressUI() {
        const container = document.getElementById('compressPreviewContainer');
        const filesList = document.getElementById('compressFilesList');

        container.classList.add('active');
        filesList.innerHTML = '';

        compressFiles.forEach(fileObj => {
          const div = document.createElement('div');
          div.className = 'file-item';
          div.innerHTML = `
            <img src="${fileObj.dataUrl}" alt="${fileObj.name}" class="file-preview" />
            <div class="file-info">
              <div class="file-name">${fileObj.name}</div>
              <div class="file-meta">Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø£ØµÙ„ÙŠ: ${formatBytes(fileObj.originalSize)}</div>
            </div>
            <div class="file-actions">
              <button class="btn btn-secondary" onclick="removeCompressFile(${fileObj.id})">
                <i class="fas fa-times"></i>
              </button>
            </div>
          `;
          filesList.appendChild(div);
        });
      }

      function removeCompressFile(id) {
        compressFiles = compressFiles.filter(f => f.id !== id);
        updateCompressUI();
        if (compressFiles.length === 0) {
          document.getElementById('compressPreviewContainer').classList.remove('active');
        }
      }

      function clearCompressFiles() {
        compressFiles = [];
        document.getElementById('compressPreviewContainer').classList.remove('active');
        document.getElementById('compressFileInput').value = '';
      }

      async function compressImages() {
        if (compressFiles.length === 0) {
          alert('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
          return;
        }

        const format = document.getElementById('compressFormat').value;
        const quality = parseInt(document.getElementById('compressQuality').value) / 100;

        for (const fileObj of compressFiles) {
          const img = new Image();
          img.src = fileObj.dataUrl;
          await new Promise(resolve => {
            img.onload = () => {
              const canvas = document.createElement('canvas');
              canvas.width = img.width;
              canvas.height = img.height;
              const ctx = canvas.getContext('2d');

              // Fill white background for JPEG
              if (format === 'image/jpeg') {
                ctx.fillStyle = '#FFFFFF';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
              }

              ctx.drawImage(img, 0, 0);

              canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                const ext = format.split('/')[1];
                a.download = fileObj.name.replace(/\.[^/.]+$/, '') + '_compressed.' + ext;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                resolve();
              }, format, quality);
            };
          });
        }
      }

      // ============================================
      // PDF MERGE
      // ============================================
      let pdfMergeFiles = [];

      function initializePdfMerge() {
        const uploadZone = document.getElementById('pdfMergeUploadZone');
        const fileInput = document.getElementById('pdfMergeFileInput');

        uploadZone.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => {
          Array.from(e.target.files).forEach(file => addPdfMergeFile(file));
        });

        // Drag & Drop
        uploadZone.addEventListener('dragover', (e) => {
          e.preventDefault();
          uploadZone.classList.add('drag-over');
        });
        uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('drag-over'));
        uploadZone.addEventListener('drop', (e) => {
          e.preventDefault();
          uploadZone.classList.remove('drag-over');
          Array.from(e.dataTransfer.files).forEach(file => addPdfMergeFile(file));
        });
      }

      function addPdfMergeFile(file) {
        if (file.type !== 'application/pdf') return;

        const id = Date.now() + Math.random();
        const reader = new FileReader();
        reader.onload = (e) => {
          pdfMergeFiles.push({
            id: id,
            file: file,
            name: file.name,
            size: file.size,
            data: e.target.result
          });
          updatePdfMergeUI();
        };
        reader.readAsArrayBuffer(file);
      }

      function updatePdfMergeUI() {
        const container = document.getElementById('pdfMergePreviewContainer');
        const filesList = document.getElementById('pdfMergeFilesList');
        const count = document.getElementById('pdfMergeCount');

        container.classList.add('active');
        count.textContent = pdfMergeFiles.length;
        filesList.innerHTML = '';

        pdfMergeFiles.forEach((fileObj, index) => {
          const div = document.createElement('div');
          div.className = 'file-item';
          div.innerHTML = `
            <div class="file-icon"><i class="fas fa-file-pdf" style="font-size: 40px; color: #d9534f;"></i></div>
            <div class="file-info">
              <div class="file-name">${fileObj.name}</div>
              <div class="file-meta">${formatBytes(fileObj.size)} â€¢ Ù…Ù„Ù ${index + 1}</div>
            </div>
            <div class="file-actions">
              <button class="btn btn-secondary" onclick="removePdfMergeFile(${fileObj.id})" title="Ø­Ø°Ù">
                <i class="fas fa-times"></i>
              </button>
            </div>
          `;
          filesList.appendChild(div);
        });
      }

      function removePdfMergeFile(id) {
        pdfMergeFiles = pdfMergeFiles.filter(f => f.id !== id);
        updatePdfMergeUI();
        if (pdfMergeFiles.length === 0) {
          document.getElementById('pdfMergePreviewContainer').classList.remove('active');
        }
      }

      function clearPdfMergeFiles() {
        pdfMergeFiles = [];
        document.getElementById('pdfMergePreviewContainer').classList.remove('active');
        document.getElementById('pdfMergeFileInput').value = '';
      }

      async function mergePdfs() {
        if (pdfMergeFiles.length < 2) {
          alert('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ Ù…Ù„ÙÙŠÙ† PDF Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ù„Ù„Ø¯Ù…Ø¬');
          return;
        }

        try {
          const { PDFDocument } = PDFLib;
          const mergedPdf = await PDFDocument.create();

          for (const fileObj of pdfMergeFiles) {
            const pdfDoc = await PDFDocument.load(fileObj.data);
            const copiedPages = await mergedPdf.copyPages(pdfDoc, pdfDoc.getPageIndices());
            copiedPages.forEach((page) => mergedPdf.addPage(page));
          }

          const mergedPdfBytes = await mergedPdf.save();
          const blob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'merged_document.pdf';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);

          alert('ØªÙ… Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ù†Ø¬Ø§Ø­!');
        } catch (error) {
          console.error('Error merging PDFs:', error);
          alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¯Ù…Ø¬ Ø§Ù„Ù…Ù„ÙØ§Øª');
        }
      }

      // ============================================
      // IMAGES TO PDF
      // ============================================
      let imagesToPdfFiles = [];

      function initializeImagesToPdf() {
        const uploadZone = document.getElementById('imagesToPdfUploadZone');
        const fileInput = document.getElementById('imagesToPdfFileInput');

        uploadZone.addEventListener('click', () => fileInput.click());
        fileInput.addEventListener('change', (e) => {
          Array.from(e.target.files).forEach(file => addImageToPdfFile(file));
        });

        // Drag & Drop
        uploadZone.addEventListener('dragover', (e) => {
          e.preventDefault();
          uploadZone.classList.add('drag-over');
        });
        uploadZone.addEventListener('dragleave', () => uploadZone.classList.remove('drag-over'));
        uploadZone.addEventListener('drop', (e) => {
          e.preventDefault();
          uploadZone.classList.remove('drag-over');
          Array.from(e.dataTransfer.files).forEach(file => addImageToPdfFile(file));
        });
      }

      function addImageToPdfFile(file) {
        if (!file.type.startsWith('image/')) return;

        const id = Date.now() + Math.random();
        const reader = new FileReader();
        reader.onload = (e) => {
          imagesToPdfFiles.push({
            id: id,
            file: file,
            dataUrl: e.target.result,
            name: file.name,
            size: file.size
          });
          updateImagesToPdfUI();
        };
        reader.readAsDataURL(file);
      }

      function updateImagesToPdfUI() {
        const container = document.getElementById('imagesToPdfPreviewContainer');
        const filesList = document.getElementById('imagesToPdfFilesList');
        const count = document.getElementById('imagesToPdfCount');

        container.classList.add('active');
        count.textContent = imagesToPdfFiles.length;
        filesList.innerHTML = '';

        imagesToPdfFiles.forEach((fileObj, index) => {
          const div = document.createElement('div');
          div.className = 'file-item';
          div.innerHTML = `
            <img src="${fileObj.dataUrl}" alt="${fileObj.name}" class="file-preview" />
            <div class="file-info">
              <div class="file-name">${fileObj.name}</div>
              <div class="file-meta">${formatBytes(fileObj.size)} â€¢ ØµÙˆØ±Ø© ${index + 1}</div>
            </div>
            <div class="file-actions">
              <button class="btn btn-secondary" onclick="removeImageToPdfFile(${fileObj.id})" title="Ø­Ø°Ù">
                <i class="fas fa-times"></i>
              </button>
            </div>
          `;
          filesList.appendChild(div);
        });
      }

      function removeImageToPdfFile(id) {
        imagesToPdfFiles = imagesToPdfFiles.filter(f => f.id !== id);
        updateImagesToPdfUI();
        if (imagesToPdfFiles.length === 0) {
          document.getElementById('imagesToPdfPreviewContainer').classList.remove('active');
        }
      }

      function clearImagesToPdfFiles() {
        imagesToPdfFiles = [];
        document.getElementById('imagesToPdfPreviewContainer').classList.remove('active');
        document.getElementById('imagesToPdfFileInput').value = '';
      }

      async function convertImagesToPdf() {
        if (imagesToPdfFiles.length === 0) {
          alert('ÙŠØ±Ø¬Ù‰ Ø±ÙØ¹ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
          return;
        }

        try {
          const { PDFDocument } = PDFLib;
          const pdfDoc = await PDFDocument.create();
          const pageSize = document.getElementById('pdfPageSize').value;
          const orientation = document.getElementById('pdfOrientation').value;

          // Define page dimensions
          const pageSizes = {
            a4: { width: 595, height: 842 },
            letter: { width: 612, height: 792 },
            a3: { width: 842, height: 1191 }
          };

          for (const fileObj of imagesToPdfFiles) {
            const img = new Image();
            img.src = fileObj.dataUrl;
            await new Promise((resolve) => {
              img.onload = async () => {
                let pageWidth, pageHeight;

                if (pageSize === 'custom') {
                  pageWidth = img.width;
                  pageHeight = img.height;
                } else {
                  const dimensions = pageSizes[pageSize];
                  if (orientation === 'landscape') {
                    pageWidth = dimensions.height;
                    pageHeight = dimensions.width;
                  } else {
                    pageWidth = dimensions.width;
                    pageHeight = dimensions.height;
                  }
                }

                const page = pdfDoc.addPage([pageWidth, pageHeight]);
                
                // Embed image
                let image;
                if (fileObj.file.type === 'image/png') {
                  image = await pdfDoc.embedPng(fileObj.dataUrl);
                } else {
                  image = await pdfDoc.embedJpg(fileObj.dataUrl);
                }

                const imgDims = image.scale(1);
                const scale = Math.min(pageWidth / imgDims.width, pageHeight / imgDims.height);
                const scaledWidth = imgDims.width * scale;
                const scaledHeight = imgDims.height * scale;
                const x = (pageWidth - scaledWidth) / 2;
                const y = (pageHeight - scaledHeight) / 2;

                page.drawImage(image, {
                  x: x,
                  y: y,
                  width: scaledWidth,
                  height: scaledHeight,
                });

                resolve();
              };
            });
          }

          const pdfBytes = await pdfDoc.save();
          const blob = new Blob([pdfBytes], { type: 'application/pdf' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = 'images_to_pdf.pdf';
          document.body.appendChild(a);
          a.click();
          document.body.removeChild(a);
          URL.revokeObjectURL(url);

          alert('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF Ø¨Ù†Ø¬Ø§Ø­!');
        } catch (error) {
          console.error('Error converting images to PDF:', error);
          alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF');
        }
      }

      // ============================================
      // UTILITY FUNCTIONS
      // ============================================
      function formatBytes(bytes, decimals = 2) {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const dm = decimals < 0 ? 0 : decimals;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];
      }
    </script>
  </body>
</html>
